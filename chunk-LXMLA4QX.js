import{a as V}from"./chunk-664J6DST.js";import{a as O}from"./chunk-USY43AOF.js";import{a as E}from"./chunk-66LLRPXC.js";import"./chunk-IRV7PH2R.js";import{A as C,Da as s,Kb as S,L as w,Lb as A,Ma as i,Na as a,Oa as _,R as I,S as b,Sa as f,Ub as L,Va as p,W as g,X as m,Xa as l,ec as T,fb as d,gb as h,hb as M,hc as k,ib as y,k as P,ma as o,na as v,w as R,za as x}from"./chunk-2627VUCO.js";function D(t,c){if(t&1){let e=f();i(0,"div",13),p("click",function(){let n=g(e).$implicit,u=l();return m(u.openRoadmap(n.id))}),_(1,"div",14),i(2,"div",15),d(3),a(),i(4,"div",16),d(5),a()()}if(t&2){let e=c.$implicit;o(3),h(e.title),o(2),h(e.description)}}function $(t,c){if(t&1){let e=f();i(0,"div",13),p("click",function(){let n=g(e).$implicit,u=l();return m(u.openRoadmap(n.id))}),_(1,"div",14),i(2,"div",15),d(3),a()()}if(t&2){let e=c.$implicit;o(3),h(e.title)}}function j(t,c){if(t&1){let e=f();i(0,"button",17),p("click",function(){g(e);let n=l();return m(n.toggleShowAllAIRecommendations())}),d(1),a()}if(t&2){let e=l();o(),M(" View All (",e.aiRecommendations.length,") ")}}function N(t,c){if(t&1){let e=f();i(0,"button",17),p("click",function(){g(e);let n=l();return m(n.toggleShowAllAIRecommendations())}),d(1," Show Less "),a()}}function U(t,c){if(t&1){let e=f();i(0,"div",18)(1,"button",19),p("click",function(){g(e);let n=l();return m(n.prevAIRecPage())}),_(2,"i",20),a(),i(3,"span",21),d(4),a(),i(5,"button",19),p("click",function(){g(e);let n=l();return m(n.nextAIRecPage())}),_(6,"i",22),a()()}if(t&2){let e=l();o(),s("disabled",e.aiRecPage===0),o(3),y("",e.aiRecPage+1," / ",e.aiRecMaxPage+1,""),o(),s("disabled",e.aiRecPage===e.aiRecMaxPage)}}function q(t,c){t&1&&(i(0,"div",23),_(1,"i",24),d(2," Loading AI recommendations... "),a())}function B(t,c){if(t&1){let e=f();i(0,"div",13),p("click",function(){let n=g(e).$implicit,u=l(2);return m(u.openRoadmap(n.id))}),_(1,"div",14),i(2,"div",15),d(3),a(),i(4,"div",16),d(5),a()()}if(t&2){let e=c.$implicit;o(3),h(e.title),o(2),h(e.description)}}function G(t,c){if(t&1&&(i(0,"div",4),x(1,B,6,2,"div",5),a()),t&2){let e=l();o(),s("ngForOf",e.getDisplayedAIRecommendations())}}function H(t,c){t&1&&(i(0,"div",25)(1,"p"),d(2,"No AI recommendations available at the moment."),a()())}function J(t,c){if(t&1){let e=f();i(0,"button",17),p("click",function(){g(e);let n=l();return m(n.toggleShowAllTrendingRoadmaps())}),d(1),a()}if(t&2){let e=l();o(),M(" View All (",e.trendingRoadmaps.length,") ")}}function K(t,c){if(t&1){let e=f();i(0,"button",17),p("click",function(){g(e);let n=l();return m(n.toggleShowAllTrendingRoadmaps())}),d(1," Show Less "),a()}}function Q(t,c){if(t&1){let e=f();i(0,"div",18)(1,"button",19),p("click",function(){g(e);let n=l();return m(n.prevTrendingPage())}),_(2,"i",20),a(),i(3,"span",21),d(4),a(),i(5,"button",19),p("click",function(){g(e);let n=l();return m(n.nextTrendingPage())}),_(6,"i",22),a()()}if(t&2){let e=l();o(),s("disabled",e.trendingPage===0),o(3),y("",e.trendingPage+1," / ",e.trendingMaxPage+1,""),o(),s("disabled",e.trendingPage===e.trendingMaxPage)}}function W(t,c){t&1&&(i(0,"div",23),_(1,"i",24),d(2," Loading trending roadmaps... "),a())}function X(t,c){if(t&1){let e=f();i(0,"div",13),p("click",function(){let n=g(e).$implicit,u=l(2);return m(u.openRoadmap(n.id))}),_(1,"div",14),i(2,"div",15),d(3),a(),i(4,"div",16),d(5),a()()}if(t&2){let e=c.$implicit;o(3),h(e.title),o(2),h(e.description)}}function Y(t,c){if(t&1&&(i(0,"div",4),x(1,X,6,2,"div",5),a()),t&2){let e=l();o(),s("ngForOf",e.getDisplayedTrendingRoadmaps())}}function Z(t,c){t&1&&(i(0,"div",25)(1,"p"),d(2,"No trending roadmaps available at the moment."),a()())}var z=(()=>{class t{constructor(e,r,n,u){this.router=e,this.authService=r,this.skillsService=n,this.toastService=u,this.aiRecommendations=[],this.trendingRoadmaps=[],this.isLoadingAIRecommendations=!1,this.isLoadingTrendingRoadmaps=!1,this.showAllAIRecommendations=!1,this.showAllTrendingRoadmaps=!1,this.aiRecPage=0,this.aiRecPageSize=5,this.aiRecMaxPage=0,this.trendingPage=0,this.trendingPageSize=5,this.trendingMaxPage=0,this.continueLearning=[{id:"data-science-fundamentals",title:"Introduction to Data Science",description:"Learn the basics of data science, including data analysis, visualization, and machine learning."},{id:"ml-basics",title:"Machine Learning Basics",description:"Explore the core concepts of machine learning and its applications."},{id:"advanced-data-analysis",title:"Advanced Data Analysis",description:"Dive deeper into data analysis techniques and tools."}],this.savedRoadmaps=[{id:"data-science",title:"Data Science Roadmap"},{id:"machine-learning",title:"Machine Learning Roadmap"},{id:"ai-engineering",title:"AI Engineering Roadmap"}]}ngOnInit(){console.log("MyLearningPageComponent ngOnInit called"),this.loadAIRecommendations(),this.loadTrendingRoadmaps()}loadAIRecommendations(){console.log("Loading AI recommendations..."),this.isLoadingAIRecommendations=!0;let e=this.authService.getUser();if(console.log("Current user for AI recommendations:",e),!e?.id){console.error("No current user found for AI recommendations"),this.isLoadingAIRecommendations=!1;return}this.skillsService.getAIRecommendations(e.id).pipe(R(r=>(console.error("Error loading AI recommendations:",r),this.toastService.show("Failed to load AI recommendations","error"),P([]))),C(()=>{this.isLoadingAIRecommendations=!1})).subscribe(r=>{console.log("AI recommendations loaded:",r),this.aiRecommendations=r||[],this.aiRecMaxPage=Math.ceil(this.aiRecommendations.length/this.aiRecPageSize)-1})}loadTrendingRoadmaps(){console.log("Loading trending roadmaps..."),this.isLoadingTrendingRoadmaps=!0,this.skillsService.getTrendingRoadmaps().pipe(R(e=>(console.error("Error loading trending roadmaps:",e),this.toastService.show("Failed to load trending roadmaps","error"),P([]))),C(()=>{this.isLoadingTrendingRoadmaps=!1})).subscribe(e=>{console.log("Trending roadmaps loaded:",e),this.trendingRoadmaps=e||[],this.trendingMaxPage=Math.ceil(this.trendingRoadmaps.length/this.trendingPageSize)-1})}getDisplayedAIRecommendations(){if(this.showAllAIRecommendations)return this.aiRecommendations;let e=this.aiRecPage*this.aiRecPageSize;return this.aiRecommendations.slice(e,e+this.aiRecPageSize)}nextAIRecPage(){this.aiRecPage<this.aiRecMaxPage&&this.aiRecPage++}prevAIRecPage(){this.aiRecPage>0&&this.aiRecPage--}toggleShowAllAIRecommendations(){this.showAllAIRecommendations=!this.showAllAIRecommendations}getDisplayedTrendingRoadmaps(){if(this.showAllTrendingRoadmaps)return this.trendingRoadmaps;let e=this.trendingPage*this.trendingPageSize;return this.trendingRoadmaps.slice(e,e+this.trendingPageSize)}nextTrendingPage(){this.trendingPage<this.trendingMaxPage&&this.trendingPage++}prevTrendingPage(){this.trendingPage>0&&this.trendingPage--}toggleShowAllTrendingRoadmaps(){this.showAllTrendingRoadmaps=!this.showAllTrendingRoadmaps}openRoadmap(e){e&&this.router.navigate(["/roadmaps",e])}static{this.\u0275fac=function(r){return new(r||t)(v(T),v(E),v(V),v(O))}}static{this.\u0275cmp=I({type:t,selectors:[["sf-my-learning-page"]],decls:35,vars:14,consts:[[1,"container"],[1,"page-title"],[1,"section"],[1,"section-title"],[1,"grid"],["class","card","style","cursor:pointer",3,"click",4,"ngFor","ngForOf"],[1,"section-header"],[1,"section-controls"],["class","view-all-btn",3,"click",4,"ngIf"],["class","pagination-controls",4,"ngIf"],["class","loading-spinner",4,"ngIf"],["class","grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"card",2,"cursor","pointer",3,"click"],["aria-hidden","true",1,"image-placeholder"],[1,"card-title"],[1,"card-desc"],[1,"view-all-btn",3,"click"],[1,"pagination-controls"],[1,"pagination-btn",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"pagination-info"],[1,"fas","fa-chevron-right"],[1,"loading-spinner"],[1,"fas","fa-spinner","fa-spin"],[1,"empty-state"]],template:function(r,n){r&1&&(i(0,"div",0)(1,"h1",1),d(2,"My Learning"),a(),i(3,"section",2)(4,"h2",3),d(5,"Continue Learning"),a(),i(6,"div",4),x(7,D,6,2,"div",5),a()(),i(8,"section",2)(9,"h2",3),d(10,"Saved Roadmaps"),a(),i(11,"div",4),x(12,$,4,1,"div",5),a()(),i(13,"section",2)(14,"div",6)(15,"h2",3),d(16,"AI Recommendations for you"),a(),i(17,"div",7),x(18,j,2,1,"button",8)(19,N,2,0,"button",8)(20,U,7,4,"div",9),a()(),x(21,q,3,0,"div",10)(22,G,2,1,"div",11)(23,H,3,0,"div",12),a(),i(24,"section",2)(25,"div",6)(26,"h2",3),d(27,"Trending Roadmaps"),a(),i(28,"div",7),x(29,J,2,1,"button",8)(30,K,2,0,"button",8)(31,Q,7,4,"div",9),a()(),x(32,W,3,0,"div",10)(33,Y,2,1,"div",11)(34,Z,3,0,"div",12),a()()),r&2&&(o(7),s("ngForOf",n.continueLearning),o(5),s("ngForOf",n.savedRoadmaps),o(6),s("ngIf",!n.showAllAIRecommendations&&n.aiRecommendations.length>n.aiRecPageSize),o(),s("ngIf",n.showAllAIRecommendations),o(),s("ngIf",!n.showAllAIRecommendations&&n.aiRecMaxPage>0),o(),s("ngIf",n.isLoadingAIRecommendations),o(),s("ngIf",!n.isLoadingAIRecommendations),o(),s("ngIf",!n.isLoadingAIRecommendations&&n.aiRecommendations.length===0),o(6),s("ngIf",!n.showAllTrendingRoadmaps&&n.trendingRoadmaps.length>n.trendingPageSize),o(),s("ngIf",n.showAllTrendingRoadmaps),o(),s("ngIf",!n.showAllTrendingRoadmaps&&n.trendingMaxPage>0),o(),s("ngIf",n.isLoadingTrendingRoadmaps),o(),s("ngIf",!n.isLoadingTrendingRoadmaps),o(),s("ngIf",!n.isLoadingTrendingRoadmaps&&n.trendingRoadmaps.length===0))},dependencies:[S,A],styles:[".container[_ngcontent-%COMP%]{padding:24px 32px}.page-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin:8px 0 24px}.section[_ngcontent-%COMP%]{margin-bottom:40px}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin:0 0 16px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.section-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.view-all-btn[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:6px 12px;border-radius:4px;font-size:12px;cursor:pointer;transition:background-color .2s}.view-all-btn[_ngcontent-%COMP%]:hover{background:#0056b3}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.pagination-btn[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #dee2e6;padding:4px 8px;border-radius:4px;cursor:pointer;transition:background-color .2s}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#e9ecef}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-info[_ngcontent-%COMP%]{font-size:12px;color:#666;min-width:40px;text-align:center}.loading-spinner[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666;font-size:14px}.loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666;font-size:14px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:24px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:6px;box-shadow:0 1px 3px #00000014;overflow:hidden}.image-placeholder[_ngcontent-%COMP%]{width:100%;height:220px;background:#cfe3df;display:block}.card-title[_ngcontent-%COMP%]{font-size:13px;font-weight:700;margin:10px 12px 4px}.card-desc[_ngcontent-%COMP%]{font-size:12px;color:#666;margin:0 12px 12px}@media (max-width:1024px){.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width:640px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr};.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}}"]})}}return t})();var ee=[{path:"",component:z}],me=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=b({type:t})}static{this.\u0275inj=w({imports:[L,k.forChild(ee)]})}}return t})();export{me as MyLearningModule};
