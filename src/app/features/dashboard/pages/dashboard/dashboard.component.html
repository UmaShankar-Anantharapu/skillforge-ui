<div class="dashboard-container">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="loading-spinner"></div>
    <p>Loading your dashboard...</p>
  </div>

  <!-- Dashboard Content -->
  <div *ngIf="!isLoading" class="dashboard-content">
    <div class="dashboard-header">
      <h1>Welcome back, {{ userName }}!</h1>
      <p *ngIf="userProfile?.onboardingComplete" class="welcome-subtitle">Ready to continue your learning journey?</p>
      <p *ngIf="!userProfile?.onboardingComplete" class="welcome-subtitle">Complete your profile to get personalized recommendations.</p>
    </div>

    <div class="dashboard-section progress-overview">
      <h2>Your Learning Progress</h2>
      <div *ngIf="userProfile?.onboardingComplete; else noProgress">
        <p>Continue your journey to mastery!</p>
        <!-- Progress visualization will be added here -->
        <div class="progress-stats">
          <div class="stat-item">
            <span class="stat-value">{{ userProfile?.onboardingStep || 0 }}</span>
            <span class="stat-label">Steps Completed</span>
          </div>
        </div>
      </div>
      <ng-template #noProgress>
        <p>Start your learning journey by completing your profile setup.</p>
      </ng-template>
    </div>

    <div class="dashboard-section quick-access-goals">
      <h2>Your Primary Goal</h2>
      <div class="goal-card">
        <p class="goal-text">{{ primaryGoal }}</p>
        <button mat-raised-button color="primary" (click)="adjustGoal()">Adjust Goal</button>
      </div>
    </div>

    <div class="dashboard-section recommended-content" *ngIf="userProfile?.onboardingComplete">
      <h2>Recommended for You</h2>
      <p>Based on your profile, we recommend:</p>
      <div class="recommendations-grid">
        <div class="recommendation-card" *ngIf="userProfile?.skillsToLearn?.length">
          <h4>Skills to Focus On</h4>
          <ul>
            <li *ngFor="let skill of userProfile.skillsToLearn.slice(0, 3)">{{ skill }}</li>
          </ul>
        </div>
        <div class="recommendation-card" *ngIf="userProfile?.industry">
          <h4>Industry-Specific Content</h4>
          <p>{{ userProfile.industry }} focused learning paths</p>
        </div>
      </div>
    </div>

    <div class="dashboard-section notifications-updates">
      <h2>Notifications & Updates</h2>
      <div class="updates-list">
        <div class="update-item" *ngIf="!userProfile?.onboardingComplete">
          <mat-icon>info</mat-icon>
          <span>Complete your onboarding to unlock personalized features</span>
        </div>
        <div class="update-item">
          <mat-icon>new_releases</mat-icon>
          <span>New features available in the Research Agent</span>
        </div>
      </div>
    </div>

    <div class="dashboard-section call-to-action">
      <h2>Ready for More?</h2>
      <div class="action-buttons">
        <button mat-raised-button color="primary" (click)="startNextLesson()" 
                [disabled]="!userProfile?.onboardingComplete">
          Start Next Lesson
        </button>
        <button mat-raised-button color="accent" (click)="exploreRoadmaps()">
          Explore Roadmaps
        </button>
      </div>
    </div>

    <div class="dashboard-section research-agent-access">
      <h2>Research Agent</h2>
      <p>Leverage AI to generate roadmaps, search the web, scrape content, and analyze topics.</p>
      <button mat-raised-button routerLink="/research-agent">Access Research Agent</button>
    </div>
  </div>
</div>